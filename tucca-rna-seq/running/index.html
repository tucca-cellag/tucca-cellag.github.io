<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tucca-rna-seq/running" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Running tucca-rna-seq | TUCCA Bioinformatics Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tucca-cellag.github.io/img/Center for Cellular Agriculture_blk+bl_vert.png"><meta data-rh="true" name="twitter:image" content="https://tucca-cellag.github.io/img/Center for Cellular Agriculture_blk+bl_vert.png"><meta data-rh="true" property="og:url" content="https://tucca-cellag.github.io/tucca-rna-seq/running"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Running tucca-rna-seq | TUCCA Bioinformatics Docs"><meta data-rh="true" name="description" content="This guide covers how to execute the tucca-rna-seq workflow using different"><meta data-rh="true" property="og:description" content="This guide covers how to execute the tucca-rna-seq workflow using different"><link data-rh="true" rel="canonical" href="https://tucca-cellag.github.io/tucca-rna-seq/running"><link data-rh="true" rel="alternate" href="https://tucca-cellag.github.io/tucca-rna-seq/running" hreflang="en"><link data-rh="true" rel="alternate" href="https://tucca-cellag.github.io/tucca-rna-seq/running" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Running tucca-rna-seq","item":"https://tucca-cellag.github.io/tucca-rna-seq/running"}]}</script><link rel="stylesheet" href="/assets/css/styles.2d474d0a.css">
<script src="/assets/js/runtime~main.95b366ce.js" defer="defer"></script>
<script src="/assets/js/main.80213503.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">TUCCA Bioinformatics Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tucca-rna-seq/introduction">tucca-rna-seq</a><a class="navbar__item navbar__link" href="/helpful-resources/learn-about-cell-ag">Helpful Resources</a><a class="navbar__item navbar__link" href="/publications/ast1">Publications</a><a class="navbar__item navbar__link" href="/our-team">Our Team</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/tucca-cellag" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tucca-rna-seq/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/tucca-cellag/tucca-rna-seq" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">GitHub Repository<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tucca-rna-seq/data-collection/data-collection-why">Data Collection 101 for RNA-Seq</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tucca-rna-seq/install-and-config/snakemake-primer">Installation and Configuration of tucca-rna-seq</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/tucca-rna-seq/running">Running tucca-rna-seq</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tucca-rna-seq/enrichment-analysis">Functional Enrichment Analysis</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tucca-rna-seq/tufts-specific/hpc-quick-start">For Tufts Users</a><button aria-label="Expand sidebar category &#x27;For Tufts Users&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tucca-rna-seq/citing-the-workflow">Citing the Workflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tucca-rna-seq/help">Getting Help</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Running tucca-rna-seq</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Running the tucca-rna-seq Workflow</h1></header>
<p>This guide covers how to execute the <code>tucca-rna-seq</code> workflow using different
execution environments and profiles.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quick-start">Quick Start<a href="#quick-start" class="hash-link" aria-label="Direct link to Quick Start" title="Direct link to Quick Start">​</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Important: Prepare Environments Before a Dry-Run</div><div class="admonitionContent_BuS1"><p>A dry-run (<code>-np</code>) will fail on the first run if the required software
environments do not yet exist. This is a known issue in Snakemake where it
attempts to inspect Conda environments inside containers <em>before</em> pulling the
container image (<a href="https://github.com/snakemake/snakemake/issues/1901" target="_blank" rel="noopener noreferrer">#1901</a>,
<a href="https://github.com/snakemake/snakemake/issues/3038" target="_blank" rel="noopener noreferrer">#3038</a>).</p><p>To prevent this, you must first build all Conda environments and pull all
container images. The <code>--conda-create-envs-only</code> flag conveniently handles
both of these tasks at once.</p></div></div>
<p>Once you&#x27;ve configured your analysis, follow these steps to run the workflow:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 1. Validate your configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake </span><span class="token parameter variable" style="color:#36acaa">--lint</span><span class="token plain"> --workflow-profile profiles/slurm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 2. Create all required Conda environments</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all --conda-create-envs-only --workflow-profile profiles/slurm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 3. Test the workflow (dry-run)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all </span><span class="token parameter variable" style="color:#36acaa">-np</span><span class="token plain"> --workflow-profile profiles/slurm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 4. Execute the workflow</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all --workflow-profile profiles/slurm</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Critical: Maintain a Stable Connection</div><div class="admonitionContent_BuS1"><p>When you run Snakemake interactively on a remote machine (like an HPC compute
node), the main <code>snakemake</code> process acts as the workflow&#x27;s orchestrator. If your
SSH connection is interrupted (e.g., your computer sleeps or your Wi-Fi
disconnects), this main process will be terminated, and your workflow will fail.</p><p>To prevent this, it is <strong>highly recommended</strong> to run the main execution command
inside a terminal multiplexer like <code>tmux</code> or <code>screen</code>. These tools create a
persistent session on the remote machine that will keep your workflow running
even if your local connection is lost.</p><p>If you cannot use a multiplexer, you must ensure your local machine does not
go to sleep. For macOS, we recommend the free utility
<a href="https://apps.apple.com/us/app/amphetamine/id937984704?mt=12" target="_blank" rel="noopener noreferrer"><strong>Amphetamine</strong></a>
to keep your Mac awake for a specified duration.</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-execution-profiles">Using Execution Profiles<a href="#using-execution-profiles" class="hash-link" aria-label="Direct link to Using Execution Profiles" title="Direct link to Using Execution Profiles">​</a></h2>
<p>Snakemake <strong>profiles</strong> are a powerful feature that allows you to pre-configure
the command-line options for a specific computing environment, such as a local
workstation or an HPC cluster. This saves you from typing long, complex
commands for every analysis.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Profile Versatility</div><div class="admonitionContent_BuS1"><p>It&#x27;s important to note that any command-line option available in Snakemake can
be set within a profile, making them incredibly versatile. For a full list of
available options, see the official <a href="https://snakemake.readthedocs.io/en/stable/executing/cli.html#all-options" target="_blank" rel="noopener noreferrer">Snakemake CLI documentation</a>.</p></div></div>
<p>To use a profile, you simply activate it with the <code>--workflow-profile</code> flag:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Use the Slurm profile</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all --workflow-profile profiles/slurm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Use the development profile</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all --workflow-profile profiles/slurm-dev</span><br></span></code></pre></div></div>
<p>For a comprehensive guide on what profiles are, which ones are available in this
workflow, and how to customize them for your specific needs, please see the
<a href="/tucca-rna-seq/install-and-config/configuration#profile-configuration"><strong>Configuration Guide</strong></a>.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="workflow-execution-steps">Workflow Execution Steps<a href="#workflow-execution-steps" class="hash-link" aria-label="Direct link to Workflow Execution Steps" title="Direct link to Workflow Execution Steps">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-configuration-validation">1. Configuration Validation<a href="#1-configuration-validation" class="hash-link" aria-label="Direct link to 1. Configuration Validation" title="Direct link to 1. Configuration Validation">​</a></h3>
<p>Before running, validate your configuration:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Check for configuration errors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake </span><span class="token parameter variable" style="color:#36acaa">--lint</span><span class="token plain"> --workflow-profile profiles/slurm</span><br></span></code></pre></div></div>
<p>This step:</p>
<ul>
<li>Validates your <code>config.yaml</code> against the JSON schema</li>
<li>Checks consistency between <code>samples.tsv</code> and <code>units.tsv</code></li>
<li>Identifies potential issues before execution</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-create-software-environments">2. Create Software Environments<a href="#2-create-software-environments" class="hash-link" aria-label="Direct link to 2. Create Software Environments" title="Direct link to 2. Create Software Environments">​</a></h3>
<p>Before performing a dry-run, it&#x27;s essential to create the necessary software
environments. This step prevents errors during the dry-run, which needs to
inspect tools inside containers that may not have been downloaded yet.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create all Conda environments and pull container images</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all --conda-create-envs-only --workflow-profile profiles/slurm</span><br></span></code></pre></div></div>
<p>This command will:</p>
<ul>
<li>Download the main Singularity/Apptainer container image.</li>
<li>Create all the isolated Conda environments required by the workflow&#x27;s rules.</li>
<li><strong>Not</strong> run any computational jobs.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-dry-run">3. Dry Run<a href="#3-dry-run" class="hash-link" aria-label="Direct link to 3. Dry Run" title="Direct link to 3. Dry Run">​</a></h3>
<p>Test the workflow without executing jobs:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Generate execution plan</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all </span><span class="token parameter variable" style="color:#36acaa">-np</span><span class="token plain"> --workflow-profile profiles/slurm</span><br></span></code></pre></div></div>
<p>This step:</p>
<ul>
<li>Shows which jobs will be executed</li>
<li>Displays the dependency graph</li>
<li>Estimates resource requirements</li>
<li>Identifies any missing inputs or configuration issues</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-execution">4. Execution<a href="#4-execution" class="hash-link" aria-label="Direct link to 4. Execution" title="Direct link to 4. Execution">​</a></h3>
<p>Run the complete workflow:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Execute all jobs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all --workflow-profile profiles/slurm</span><br></span></code></pre></div></div>
<p>The workflow will:</p>
<ul>
<li>Use the pre-built software environments for each tool</li>
<li>Download reference genomes and annotations</li>
<li>Process your sequencing data through the pipeline</li>
<li>Generate comprehensive analysis results</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring-and-debugging">Monitoring and Debugging<a href="#monitoring-and-debugging" class="hash-link" aria-label="Direct link to Monitoring and Debugging" title="Direct link to Monitoring and Debugging">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="job-monitoring">Job Monitoring<a href="#job-monitoring" class="hash-link" aria-label="Direct link to Job Monitoring" title="Direct link to Job Monitoring">​</a></h3>
<p>When running Snakemake interactively, the main log output will stream directly
to your terminal.</p>
<p>For workflows running on an HPC cluster, you can use the scheduler&#x27;s native
commands in a separate terminal to check the status of submitted jobs. The
command below is an example for a SLURM-managed cluster.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Check job status (example for a SLURM cluster)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">squeue </span><span class="token parameter variable" style="color:#36acaa">-u</span><span class="token plain"> </span><span class="token environment constant" style="color:#36acaa">$USER</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-log-files">Understanding Log Files<a href="#understanding-log-files" class="hash-link" aria-label="Direct link to Understanding Log Files" title="Direct link to Understanding Log Files">​</a></h3>
<p>When troubleshooting, it&#x27;s important to know where to look for information.
The workflow generates logs in three primary locations, each serving a
different purpose:</p>
<ul>
<li>
<p><strong>Main Snakemake Log (<code>.snakemake/log/</code>)</strong>: This directory contains the main
log file from the Snakemake process itself. It&#x27;s useful for debugging
high-level workflow errors related to DAG construction, configuration, or
job submission.</p>
</li>
<li>
<p><strong>Cluster Executor Logs (e.g., <code>.snakemake/slurm_logs/</code>)</strong>: When running on a
cluster, the executor plugin (like the one for SLURM) generates its own
logs for each submitted job. These files capture the raw <code>stdout</code> and
<code>stderr</code> from the cluster&#x27;s perspective and are invaluable for debugging
job submission issues or resource-related failures.</p>
</li>
<li>
<p><strong>Rule-Specific Logs (<code>logs/</code>)</strong>: The workflow is designed to capture the
<code>stdout</code> and <code>stderr</code> from each specific rule into this directory. These are
the most important logs for debugging tool-specific errors, such as a problem
with a bioinformatics tool&#x27;s parameters or input files.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="failed-jobs">Failed Jobs<a href="#failed-jobs" class="hash-link" aria-label="Direct link to Failed Jobs" title="Direct link to Failed Jobs">​</a></h3>
<p>When jobs fail, Snakemake provides commands to help you investigate and recover.
While these can be run manually, it is often more convenient to set them as
defaults in your execution profile.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Enabled by Default in the Slurm Profile</div><div class="admonitionContent_BuS1"><p>The pre-configured <code>slurm</code> profile for this workflow already includes the
options <code>show-failed-logs: true</code> and <code>rerun-incomplete: true</code>, automating
these recovery steps for you. See the
<a href="/tucca-rna-seq/install-and-config/configuration#profile-examples-from-tucca-rna-seq">Configuration Guide</a>
for details.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-issues">Common Issues<a href="#common-issues" class="hash-link" aria-label="Direct link to Common Issues" title="Direct link to Common Issues">​</a></h3>
<table><thead><tr><th>Issue</th><th>Solution</th></tr></thead><tbody><tr><td><strong>Missing dependencies</strong></td><td>Check conda environment creation</td></tr><tr><td><strong>Resource limits</strong></td><td>Adjust memory/CPU allocation in profile</td></tr><tr><td><strong>File permissions</strong></td><td>Ensure write access to output directories</td></tr><tr><td><strong>Network issues</strong></td><td>Check internet connectivity for downloads</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="resource-management">Resource Management<a href="#resource-management" class="hash-link" aria-label="Direct link to Resource Management" title="Direct link to Resource Management">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="memory-and-cpu-allocation">Memory and CPU Allocation<a href="#memory-and-cpu-allocation" class="hash-link" aria-label="Direct link to Memory and CPU Allocation" title="Direct link to Memory and CPU Allocation">​</a></h3>
<p>Configure resource allocation in your profile:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># profiles/slurm/config.v8+.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">default-resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">mem_mb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">32000</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># 32GB RAM per job</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">cpus_per_task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 12 CPU cores per job</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">runtime</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4320</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># 4 hours runtime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Override for specific rules</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">set-resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">star_index</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">mem_mb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">64000</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 64GB RAM for genome indexing</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="software-environment-caching">Software Environment Caching<a href="#software-environment-caching" class="hash-link" aria-label="Direct link to Software Environment Caching" title="Direct link to Software Environment Caching">​</a></h3>
<p>Creating the workflow&#x27;s software environments with Conda and downloading the
Singularity/Apptainer container image can be time-consuming, but this initial
setup only needs to be done once. By default, Snakemake caches these
environments in a hidden <code>.snakemake</code> directory within each project folder.</p>
<p>To avoid rebuilding these environments for every new analysis, you can create a
centralized cache that all your projects can share. This has two major benefits:</p>
<ol>
<li><strong>Saves Time</strong>: Subsequent workflow runs will start much faster by reusing
the pre-existing environments.</li>
<li><strong>Saves Space</strong>: It prevents duplicating many gigabytes of software, which
is especially important on HPC clusters with home/lab directory storage
quotas.</li>
</ol>
<p>To set up a central cache, use the <code>--conda-prefix</code> and <code>--singularity-prefix</code>
flags to point to a shared location, such as a project or scratch directory.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Example of redirecting caches to a shared location</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all </span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --workflow-profile profiles/slurm </span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --conda-prefix /path/to/shared/conda_envs </span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --singularity-prefix /path/to/shared/singularity_images</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Set Prefixes in a Profile</div><div class="admonitionContent_BuS1"><p>For convenience, it is best practice to set these paths as default options
within your execution profile.</p><p>Alternatively, you can set the <code>SNAKEMAKE_CONDA_PREFIX</code> and
<code>SNAKEMAKE_APPTAINER_PREFIX</code> environment variables in your shell&#x27;s startup
file (e.g., <code>~/.bashrc</code>) for a more permanent solution.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage-requirements">Storage Requirements<a href="#storage-requirements" class="hash-link" aria-label="Direct link to Storage Requirements" title="Direct link to Storage Requirements">​</a></h3>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime-estimation">Runtime Estimation<a href="#runtime-estimation" class="hash-link" aria-label="Direct link to Runtime Estimation" title="Direct link to Runtime Estimation">​</a></h3>
<!-- -->
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-execution-options">Advanced Execution Options<a href="#advanced-execution-options" class="hash-link" aria-label="Direct link to Advanced Execution Options" title="Direct link to Advanced Execution Options">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="parallel-execution">Parallel Execution<a href="#parallel-execution" class="hash-link" aria-label="Direct link to Parallel Execution" title="Direct link to Parallel Execution">​</a></h3>
<p>Control job parallelism:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Limit concurrent jobs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all --workflow-profile profiles/slurm </span><span class="token parameter variable" style="color:#36acaa">--jobs</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Use all available cores locally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all --use-conda </span><span class="token parameter variable" style="color:#36acaa">--cores</span><span class="token plain"> all</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="selective-execution">Selective Execution<a href="#selective-execution" class="hash-link" aria-label="Direct link to Selective Execution" title="Direct link to Selective Execution">​</a></h3>
<p>Run specific parts of the workflow:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Run only quality control</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake fastqc --workflow-profile profiles/slurm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Run only differential expression</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake deseq2_wald_per_analysis --workflow-profile profiles/slurm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Run only enrichment analysis</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all_enrichment_analyses --workflow-profile profiles/slurm</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resume-and-restart">Resume and Restart<a href="#resume-and-restart" class="hash-link" aria-label="Direct link to Resume and Restart" title="Direct link to Resume and Restart">​</a></h3>
<p>Handle interrupted workflows:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Resume from where you left off</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all --workflow-profile profiles/slurm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Force rerun of specific outputs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all --workflow-profile profiles/slurm </span><span class="token parameter variable" style="color:#36acaa">--forceall</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Remove all protected and temporary output files</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">snakemake all --delete-all-output --workflow-profile profiles/slurm</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Preview Before Deleting</div><div class="admonitionContent_BuS1"><p>It is highly recommended to perform a dry-run (<code>-np</code>) before deleting all
outputs to see which files will be removed.</p><p><code>snakemake all --delete-all-output -np --workflow-profile profiles/slurm</code></p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="output-and-results">Output and Results<a href="#output-and-results" class="hash-link" aria-label="Direct link to Output and Results" title="Direct link to Output and Results">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="main-outputs">Main Outputs<a href="#main-outputs" class="hash-link" aria-label="Direct link to Main Outputs" title="Direct link to Main Outputs">​</a></h3>
<p>The workflow generates comprehensive results:</p>
<ul>
<li><strong>Quality Control</strong>: FastQC reports, Qualimap analysis</li>
<li><strong>Alignment</strong>: STAR BAM files, alignment statistics</li>
<li><strong>Quantification</strong>: Salmon transcript counts</li>
<li><strong>Differential Expression</strong>: DESeq2 results, normalized counts</li>
<li><strong>Enrichment Analysis</strong>: GO, KEGG, MSigDB, SPIA results</li>
<li><strong>Reports</strong>: MultiQC summary, FastQC, Qualimap HTML reports</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="output-organization">Output Organization<a href="#output-organization" class="hash-link" aria-label="Direct link to Output Organization" title="Direct link to Output Organization">​</a></h3>
<p>Results are organized in a logical structure:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">results/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── fastqc/           # Quality control reports</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── qualimap/         # RNA-seq quality metrics  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── salmon/           # Transcript quantification</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── multiqc/          # Summary reports</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resources/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── star/             # STAR alignment results (BAM files)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── deseq2/           # Differential expression results</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── enrichment/       # Functional enrichment analysis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── tximeta/          # Transcript quantification metadata</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="post-analysis-interactive-tools">Post-Analysis Interactive Tools<a href="#post-analysis-interactive-tools" class="hash-link" aria-label="Direct link to Post-Analysis Interactive Tools" title="Direct link to Post-Analysis Interactive Tools">​</a></h3>
<p>After workflow completion, you can use the provided RMarkdown notebooks for additional analysis:</p>
<ul>
<li><strong><code>analysis/pcaExplorer_playground.Rmd</code></strong>: Principal component analysis</li>
<li><strong><code>analysis/GeneTonic_playground.Rmd</code></strong>: Enrichment analysis visualization</li>
</ul>
<p><strong>Note</strong>: These are separate analysis tools, not part of the Snakemake workflow execution.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="profile-issues">Profile Issues<a href="#profile-issues" class="hash-link" aria-label="Direct link to Profile Issues" title="Direct link to Profile Issues">​</a></h3>
<p>If profiles don&#x27;t work as expected:</p>
<ol>
<li><strong>Check Snakemake version</strong>: Ensure you&#x27;re using v8.27.1 or later</li>
<li><strong>Verify profile syntax</strong>: Check YAML formatting and indentation</li>
<li><strong>Install executor plugins</strong>: Ensure required plugins are installed</li>
<li><strong>Check permissions</strong>: Verify file and directory permissions</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution-problems">Execution Problems<a href="#execution-problems" class="hash-link" aria-label="Direct link to Execution Problems" title="Direct link to Execution Problems">​</a></h3>
<p>Common execution issues and solutions:</p>
<table><thead><tr><th>Problem</th><th>Cause</th><th>Solution</th></tr></thead><tbody><tr><td><strong>Jobs stuck in queue</strong></td><td>Resource limits too high</td><td>Reduce memory/CPU requirements</td></tr><tr><td><strong>&quot;Lost&quot; SLURM jobs</strong></td><td><code>sacct</code> accounting issues. You may see messages like:<br><br><code>status_of_jobs after sacct is: {}</code><br><code>active_jobs_ids_with_current_sacct_status are: {}</code><br><code>active_jobs_seen_by_sacct are: {}</code><br><code>missing_sacct_status are: set()</code></td><td>Stop and restart the workflow; Snakemake will re-evaluate job status and resume.</td></tr><tr><td><strong>Environment creation fails</strong></td><td>Conda/Mamba issues</td><td>Check conda installation and channels</td></tr><tr><td><strong>Container errors</strong></td><td>Singularity/Apptainer issues</td><td>Verify container runtime installation</td></tr><tr><td><strong>File system errors</strong></td><td>Storage or permission issues</td><td>Check disk space and file permissions</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getting-help">Getting Help<a href="#getting-help" class="hash-link" aria-label="Direct link to Getting Help" title="Direct link to Getting Help">​</a></h3>
<p>If you encounter issues:</p>
<ol>
<li><strong>Check the logs</strong>: Review Snakemake and job-specific logs</li>
<li><strong>Validate configuration</strong>: Run <code>snakemake --lint</code></li>
<li><strong>Review documentation</strong>: Check this guide and workflow documentation</li>
<li><strong>Open an issue</strong>: Report problems on the <a href="https://github.com/tucca-cellag/tucca-rna-seq/issues" target="_blank" rel="noopener noreferrer">GitHub repository</a></li>
</ol>
<a href="https://snakemake.readthedocs.io/en/stable/project_info/faq.html" target="_blank" rel="noopener noreferrer"><button class="button button--primary button--block" style="margin-top:10px" role="button" aria-disabled="false">View the Official Snakemake FAQ</button></a>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps">​</a></h2>
<p>After successfully running your workflow:</p>
<ol>
<li><strong>Review Results</strong>: Examine quality control reports and analysis outputs</li>
<li><strong>Post-Analysis Tools</strong>: Use the provided RMarkdown notebooks</li>
<li><strong>Custom Analysis</strong>: Extend the workflow with your own scripts</li>
<li><strong>Share Results</strong>: Export data files and create custom visualizations</li>
</ol>
<p>For more advanced usage and customization, see the <a href="/tucca-rna-seq/install-and-config/configuration">Advanced Configuration</a> guide.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tucca-rna-seq/install-and-config/configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuring tucca-rna-seq for your Analysis</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tucca-rna-seq/enrichment-analysis"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Functional Enrichment Analysis</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#quick-start" class="table-of-contents__link toc-highlight">Quick Start</a></li><li><a href="#using-execution-profiles" class="table-of-contents__link toc-highlight">Using Execution Profiles</a></li><li><a href="#workflow-execution-steps" class="table-of-contents__link toc-highlight">Workflow Execution Steps</a><ul><li><a href="#1-configuration-validation" class="table-of-contents__link toc-highlight">1. Configuration Validation</a></li><li><a href="#2-create-software-environments" class="table-of-contents__link toc-highlight">2. Create Software Environments</a></li><li><a href="#3-dry-run" class="table-of-contents__link toc-highlight">3. Dry Run</a></li><li><a href="#4-execution" class="table-of-contents__link toc-highlight">4. Execution</a></li></ul></li><li><a href="#monitoring-and-debugging" class="table-of-contents__link toc-highlight">Monitoring and Debugging</a><ul><li><a href="#job-monitoring" class="table-of-contents__link toc-highlight">Job Monitoring</a></li><li><a href="#understanding-log-files" class="table-of-contents__link toc-highlight">Understanding Log Files</a></li><li><a href="#failed-jobs" class="table-of-contents__link toc-highlight">Failed Jobs</a></li><li><a href="#common-issues" class="table-of-contents__link toc-highlight">Common Issues</a></li></ul></li><li><a href="#resource-management" class="table-of-contents__link toc-highlight">Resource Management</a><ul><li><a href="#memory-and-cpu-allocation" class="table-of-contents__link toc-highlight">Memory and CPU Allocation</a></li><li><a href="#software-environment-caching" class="table-of-contents__link toc-highlight">Software Environment Caching</a></li><li><a href="#storage-requirements" class="table-of-contents__link toc-highlight">Storage Requirements</a></li><li><a href="#runtime-estimation" class="table-of-contents__link toc-highlight">Runtime Estimation</a></li></ul></li><li><a href="#advanced-execution-options" class="table-of-contents__link toc-highlight">Advanced Execution Options</a><ul><li><a href="#parallel-execution" class="table-of-contents__link toc-highlight">Parallel Execution</a></li><li><a href="#selective-execution" class="table-of-contents__link toc-highlight">Selective Execution</a></li><li><a href="#resume-and-restart" class="table-of-contents__link toc-highlight">Resume and Restart</a></li></ul></li><li><a href="#output-and-results" class="table-of-contents__link toc-highlight">Output and Results</a><ul><li><a href="#main-outputs" class="table-of-contents__link toc-highlight">Main Outputs</a></li><li><a href="#output-organization" class="table-of-contents__link toc-highlight">Output Organization</a></li><li><a href="#post-analysis-interactive-tools" class="table-of-contents__link toc-highlight">Post-Analysis Interactive Tools</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#profile-issues" class="table-of-contents__link toc-highlight">Profile Issues</a></li><li><a href="#execution-problems" class="table-of-contents__link toc-highlight">Execution Problems</a></li><li><a href="#getting-help" class="table-of-contents__link toc-highlight">Getting Help</a></li></ul></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/tucca-rna-seq/introduction">tucca-rna-seq</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect With Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://cellularagriculture.tufts.edu/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tufts University Center for Cellular Agriculture<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/tufts-cell-ag/" target="_blank" rel="noopener noreferrer" class="footer__link-item">TUCCA on LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/tuftscellag" target="_blank" rel="noopener noreferrer" class="footer__link-item">TUCCA on X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC29F8uqsu_K7aRxOgjfG_HQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">TUCCA on YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/tucca-cellag" target="_blank" rel="noopener noreferrer" class="footer__link-item">TUCCA&#x27;s GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Tufts University
      Center for Cellular Agriculture. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>