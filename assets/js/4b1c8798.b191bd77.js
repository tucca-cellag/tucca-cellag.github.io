"use strict";(self.webpackChunktucca_cellag=self.webpackChunktucca_cellag||[]).push([[381],{7589:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>u,default:()=>f,frontMatter:()=>c,metadata:()=>o,toc:()=>h});const o=JSON.parse('{"id":"tucca-rna-seq/getting-started/installation/new-user-install","title":"Workflow Installation for New Users","description":"\ud83d\udea7 Coming Soon! \ud83d\udea7","source":"@site/docs/tucca-rna-seq/getting-started/installation/new-user-install.mdx","sourceDirName":"tucca-rna-seq/getting-started/installation","slug":"/tucca-rna-seq/getting-started/installation/new-user-install","permalink":"/tucca-rna-seq/getting-started/installation/new-user-install","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Workflow Installation for New Users"},"sidebar":"tuccarnaseq","previous":{"title":"Getting Started","permalink":"/category/getting-started"},"next":{"title":"Setting Up the Workflow for your Analysis","permalink":"/tucca-rna-seq/getting-started/config-setup"}}');var r=t(4848),s=t(8453),a=t(5537),i=t(9329),l=(t(6289),t(7024));const c={title:"Workflow Installation for New Users"},u="Workflow Installation for New Users",d={},h=[{value:"1. Login to the Tufts HPC",id:"1-login-to-the-tufts-hpc",level:2},{value:"2. Get off of a login node",id:"2-get-off-of-a-login-node",level:2},{value:"3. Clone the repository",id:"3-clone-the-repository",level:2},{value:"4. Dependencies installation",id:"4-dependencies-installation",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.admonition,{type:"warning",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\ud83d\udea7 Coming Soon! \ud83d\udea7"})}),(0,r.jsx)(n.p,{children:"Our website is currently under construction and will be launching soon.\nStay tuned!"}),(0,r.jsxs)(n.p,{children:["In the meantime, feel free to ",(0,r.jsx)(n.a,{href:"mailto:benjamin.bromberg@tufts.edu",children:"contact us"}),"\nwith any questions."]}),(0,r.jsx)(n.p,{children:"Thank you for your patience"})]}),"\n",(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"workflow-installation-for-new-users",children:"Workflow Installation for New Users"})}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\ud83d\udd04 Setting Up a Fresh Project"})}),(0,r.jsxs)(n.p,{children:["If you've already run the ",(0,r.jsx)(n.code,{children:"tucca-rna-seq"})," workflow but want to start a new\nproject or analysis without affecting your previous work\u2014which is crucial for\nmaintaining reproducibility\u2014check out our guide on setting up a fresh project:"]}),(0,r.jsx)(l.A,{label:"Setting Up a Fresh Project",link:"/tucca-rna-seq/fresh-project-install",variant:"primary"})]}),"\n","\n",(0,r.jsxs)(a.A,{children:[(0,r.jsxs)(i.A,{value:"tufts-hpc",label:"Tufts HPC Users",default:!0,children:[(0,r.jsx)(n.h2,{id:"1-login-to-the-tufts-hpc",children:"1. Login to the Tufts HPC"}),(0,r.jsx)(n.p,{children:"You can SSH into the Tufts HPC in the command-line of your preferred\nterminal or you can access the cluster through Tufts' OnDemand service. You\nwill need a Tufts Cluster Account to be able to log in to the Tufts HPC."}),(0,r.jsxs)(n.admonition,{type:"warning",children:[(0,r.jsx)(n.p,{children:"The process of requesting and being approved for a Tufts HPC account can\ntake multiple business days."}),(0,r.jsx)(l.A,{label:"Request an Account",link:"https://access.tufts.edu/research-cluster-account",variant:"primary",style:{marginBottom:"20px"}}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Requirements"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You must complete an online account request form and be approved to use\nthe Tufts Research Cluster."}),"\n",(0,r.jsx)(n.li,{children:"Account requests require a valid Tufts Username and Tufts Password"}),"\n",(0,r.jsx)(n.li,{children:"Guest and student accounts require faculty or researcher sponsorship"}),"\n"]})]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"SSH"}),", or ",(0,r.jsx)(n.strong,{children:"Secure Shell"}),", is a protocol that allows you to securely\nconnect to remote servers over a network. An ",(0,r.jsx)(n.strong,{children:"HPC"}),", or ",(0,r.jsx)(n.strong,{children:"High-Performance\nComputing"})," system, provides powerful computational resources for executing\ncomplex simulations and data analyses. Using SSH to access the HPC ensures\nthat your data and commands are transmitted securely. The Tufts HPC enables\nresearchers and students to perform large-scale computations efficiently."]}),(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsx)(n.p,{children:"If you are not familiar with accessing the Tufts HPC check out these\nfantastic resources to learn more:"}),(0,r.jsxs)(a.A,{children:[(0,r.jsxs)(i.A,{value:"hpc-mainpage",label:"Tufts HPC Home Page",children:[(0,r.jsx)("p",{children:"Home page for the Tufts HPC with helpful cheat sheets for the\ncluster at the bottom of the page"}),(0,r.jsx)("p",{}),(0,r.jsx)(l.A,{label:"Tufts HPC Home Page",link:"https://it.tufts.edu/high-performance-computing",variant:"primary"})]}),(0,r.jsxs)(i.A,{value:"hpc-welcomepage",label:"Tufts HPC's Welcome Page",children:[(0,r.jsx)("p",{children:"Contains links to many introductory resources for the Tufts HPC"}),(0,r.jsx)("p",{}),(0,r.jsx)(l.A,{label:"Tufts HPC's Welcome Page",link:"https://it.tufts.edu/high-performance-computing/hpc-welcome-page",variant:"primary"})]}),(0,r.jsxs)(i.A,{value:"hpc-newuser",label:"Tufts HPC's New User Support",default:!0,children:[(0,r.jsx)("p",{children:"Box folder with many helpful introductory PDFs and slideshows that\noutline the ins-and-outs of the Tufts HPC."}),(0,r.jsxs)("p",{children:["The most recent version of the ",(0,r.jsx)(n.code,{children:"Intro to Tufts HPC"})," workshop and\n",(0,r.jsx)(n.code,{children:"New User Guide PAX.pdf"})," are highly recommend."]}),(0,r.jsx)("p",{}),(0,r.jsx)(l.A,{label:"Tufts HPC's New User Support",link:"https://tufts.app.box.com/v/HPC-New-User/folder/46988375653",variant:"primary"})]})]})]}),(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsxs)(n.p,{children:["For this workflow, we highly recommend SSHing into the cluster via\n",(0,r.jsx)(n.strong,{children:"VSCode"})," as it provides a convenient user experience."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Visual Studio Code (VSCode)"})," is a free, open-source code editor\ndeveloped by Microsoft. It's widely used for software development due to\nits versatility, rich feature set, and extensive extension ecosystem. In\nthe context of interacting with the Tufts High-Performance Computing (HPC)\nresources, VSCode offers several advantages:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Remote Development"}),": VSCode can seamlessly connect to remote servers,\nallowing you to edit files, run code, and manage projects directly on the\nHPC without leaving your local environment."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Integrated Terminal"}),": Access the HPC terminal within VSCode, enabling\nefficient command-line operations alongside your coding activities."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Extensions and Customization"}),": Enhance your development experience\nwith extensions tailored for specific programming languages, debugging\ntools, and workflow optimizations."]}),"\n"]}),"\n"]}),(0,r.jsx)(n.p,{children:"Additionally, you can connect via the OnDemand service or your preferred\nterminal."}),(0,r.jsx)(l.A,{label:"Tufts OnDemand",link:"https://ondemand.pax.tufts.edu/",variant:"primary"})]}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h2,{id:"2-get-off-of-a-login-node",children:"2. Get off of a login node"}),(0,r.jsx)(n.p,{children:"Once logged into the Tufts HPC run the following to get off a login node and\nonto a compute node so that you can start performing computations."}),(0,r.jsxs)(n.p,{children:["After login you are on a Login Node of the cluster (",(0,r.jsx)(n.code,{children:"login-prod-0x"}),") and in\nyour Home Directory (",(0,r.jsx)(n.code,{children:"~"})," or ",(0,r.jsx)(n.code,{children:"/cluster/home/your_utln"}),"). Your terminal\nshould look like this:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ [your_utln@login-prod-02 ~]\n"})}),(0,r.jsx)(n.p,{children:"To get off a login node run:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"srun -p interactive --pty bash\n"})}),(0,r.jsxs)(n.p,{children:["This will allocate a compute node with bash shell, 1 CPU core (default),\n4 hours (interactive partition default and maxmimum value), and 2GB of CPU\nmemory (default). If desired, modify with number of CPU cores ",(0,r.jsx)(n.code,{children:"-n"})," , memory\n",(0,r.jsx)(n.code,{children:"--mem="})," , an alternative partition ",(0,r.jsx)(n.code,{children:"-p"})," , and/or runtime ",(0,r.jsx)(n.code,{children:"--time="})," ."]}),(0,r.jsx)(n.p,{children:"Depending on the current usage of the Tufts HPC, you may need to wait in a\nqueue to be allocated enough resources. This could take some time depending\non the current usage of the cluster."}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h2,{id:"3-clone-the-repository",children:"3. Clone the repository"}),(0,r.jsx)(n.admonition,{title:"As explained on GitHub's Docs...",type:"info",children:(0,r.jsxs)(n.p,{children:["Cloning a repository pulls down a full copy of all the repository data that\nGitHub.com has at that point in time, including all versions of every file\nand folder for the project. You can push your changes to the remote\nrepository on GitHub.com, or pull other people's changes from GitHub.com.\nFor more information, see ",(0,r.jsx)(n.a,{href:"https://docs.github.com/en/get-started/using-git",children:"Using Git"}),"."]})}),(0,r.jsx)(n.p,{children:"Navigate to the desired parent directory (aka folder) on the Tufts HPC that\nyou would like to clone (aka copy) the template workflow repository into.\nThen clone the repository with the following command:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/benjibromberg/tucca-rna-seq.git\n"})}),(0,r.jsxs)(n.p,{children:["After cloning the repo, you can change the name of the cloned directory\nto suit your project. The default name will always be ",(0,r.jsx)(n.code,{children:"tucca-rna-seq"}),"."]}),(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["For Kaplan Lab users, it is recommended to clone the repository into your\npersonal directory in the ",(0,r.jsx)(n.code,{children:"kaplanlab"})," workspace. After cloning the repo,\nyou can change the name of the cloned directory to suit your project. Refer\nto the Tufts HPC resources linked above if this does not make sense."]})}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h2,{id:"4-dependencies-installation",children:"4. Dependencies installation"}),(0,r.jsxs)(n.p,{children:["For improved reproducibility and reusability of the workflow,\neach individual step of the workflow runs either in its own ",(0,r.jsx)(n.a,{href:"https://docs.conda.io/projects/conda/en/latest/index.html",children:"Conda"}),"\nvirtual environment. As a consequence, running this workflow has very few\nindividual dependencies."]}),(0,r.jsxs)(n.p,{children:["You will need to add the ",(0,r.jsx)(n.code,{children:"bioconda"})," channel to your ",(0,r.jsx)(n.code,{children:"base"})," conda environment\nwhich loads everytime you load a conda manager like ",(0,r.jsx)(n.a,{href:"https://github.com/conda-forge/miniforge",children:"miniforge"}),".\nIf this is problematic for some reason, you will need to load another conda\nenvironment that includes the ",(0,r.jsx)(n.code,{children:"conda-forge"}),", ",(0,r.jsx)(n.code,{children:"bioconda"}),", and ",(0,r.jsx)(n.code,{children:"default"}),"\nchannels before loading the ",(0,r.jsx)(n.code,{children:"snakemake"})," conda environment which will\nrequire manually modifying the ",(0,r.jsx)(n.code,{children:"run.sh"})," runner script."]}),(0,r.jsxs)(n.p,{children:["To add the ",(0,r.jsx)(n.code,{children:"bioconda"})," channel to your ",(0,r.jsx)(n.code,{children:"base"})," conda environment run:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"module load miniforge/24.7.1-py312\nconda activate base\nconda config --add channels bioconda\nconda config --add channels conda-forge\nconda config --set channel_priority strict\nconda config --show channels\n"})}),(0,r.jsx)(n.p,{children:"The result of the final command should match the following:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"channels:\n  - conda-forge\n  - bioconda\n  - defaults\n"})}),(0,r.jsxs)(n.p,{children:["Then run the following to create the ",(0,r.jsx)(n.code,{children:"snakemake"})," conda environment:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"conda env create -f tucca-rna-seq/install/snakemake.yaml\n"})})]}),(0,r.jsx)(i.A,{value:"external",label:"External Users",children:(0,r.jsx)(n.p,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\nquis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\nconsequat. Duis aute irure dolor in reprehenderit in voluptate velit esse\ncillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat\nnon proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})})]})]})}function f(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},9329:(e,n,t)=>{t.d(n,{A:()=>a});t(6540);var o=t(4164);const r={tabItem:"tabItem_Ymn6"};var s=t(4848);function a(e){let{children:n,hidden:t,className:a}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,o.A)(r.tabItem,a),hidden:t,children:n})}},5537:(e,n,t)=>{t.d(n,{A:()=>w});var o=t(6540),r=t(4164),s=t(5627),a=t(6347),i=t(372),l=t(604),c=t(1861),u=t(8749);function d(e){return o.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,o.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:o,default:r}}=e;return{value:n,label:t,attributes:o,default:r}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:t}=e;const r=(0,a.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(s),(0,o.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(r.location.search);n.set(s,e),r.replace({...r.location,search:n.toString()})}),[s,r])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,s=h(e),[a,l]=(0,o.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const o=t.find((e=>e.default))??t[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:n,tabValues:s}))),[c,d]=f({queryString:t,groupId:r}),[m,g]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,s]=(0,u.Dv)(t);return[r,(0,o.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:r}),x=(()=>{const e=c??m;return p({value:e,tabValues:s})?e:null})();(0,i.A)((()=>{x&&l(x)}),[x]);return{selectedValue:a,selectValue:(0,o.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),g(e)}),[d,g,s]),tabValues:s}}var g=t(9136);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=t(4848);function b(e){let{className:n,block:t,selectedValue:o,selectValue:a,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),u=e=>{const n=e.currentTarget,t=l.indexOf(n),r=i[t].value;r!==o&&(c(n),a(r))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:o===n?0:-1,"aria-selected":o===n,ref:e=>{l.push(e)},onKeyDown:d,onClick:u,...s,className:(0,r.A)("tabs__item",x.tabItem,s?.className,{"tabs__item--active":o===n}),children:t??n},n)}))})}function y(e){let{lazy:n,children:t,selectedValue:s}=e;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===s));return e?(0,o.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function v(e){const n=m(e);return(0,j.jsxs)("div",{className:(0,r.A)("tabs-container",x.tabList),children:[(0,j.jsx)(b,{...n,...e}),(0,j.jsx)(y,{...n,...e})]})}function w(e){const n=(0,g.A)();return(0,j.jsx)(v,{...e,children:d(e.children)},String(n))}},7024:(e,n,t)=>{t.d(n,{A:()=>a});t(6540);var o=t(4164),r=t(6289),s=t(4848);function a(e){let{size:n=null,outline:t=!1,variant:a="primary",block:i=!1,disabled:l=!1,className:c,style:u,link:d,label:h}=e;const p=n?{sm:"sm",small:"sm",lg:"lg",large:"lg",medium:null}[n]:"",f=p?`button--${p}`:"",m=t?"button--outline":"",g=a?`button--${a}`:"",x=i?"button--block":"",j=l?"disabled":"",b=l?null:d;return(0,s.jsx)(r.A,{to:b,children:(0,s.jsx)("button",{className:(0,o.A)("button",f,m,g,x,j,c),style:u,role:"button","aria-disabled":l,children:h})})}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>i});var o=t(6540);const r={},s=o.createContext(r);function a(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);