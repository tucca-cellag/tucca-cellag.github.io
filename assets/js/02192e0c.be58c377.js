(self.webpackChunktucca_cellag=self.webpackChunktucca_cellag||[]).push([[783],{1470:(e,n,t)=>{"use strict";t.d(n,{A:()=>v});var i=t(6540),a=t(4164),s=t(3104),r=t(6347),o=t(205),l=t(7485),c=t(1682),d=t(679);function u(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,i.useMemo)(()=>{const e=n??function(e){return u(e).map(({props:{value:e,label:n,attributes:t,default:i}})=>({value:e,label:n,attributes:t,default:i}))}(t);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function p({value:e,tabValues:n}){return n.some(n=>n.value===e)}function m({queryString:e=!1,groupId:n}){const t=(0,r.W6)(),a=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(a),(0,i.useCallback)(e=>{if(!a)return;const n=new URLSearchParams(t.location.search);n.set(a,e),t.replace({...t.location,search:n.toString()})},[a,t])]}function x(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,s=h(e),[r,l]=(0,i.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:s})),[c,u]=m({queryString:t,groupId:a}),[x,y]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,a]=(0,d.Dv)(n);return[t,(0,i.useCallback)(e=>{n&&a.set(e)},[n,a])]}({groupId:a}),f=(()=>{const e=c??x;return p({value:e,tabValues:s})?e:null})();(0,o.A)(()=>{f&&l(f)},[f]);return{selectedValue:r,selectValue:(0,i.useCallback)(e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),y(e)},[u,y,s]),tabValues:s}}var y=t(2303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(4848);function j({className:e,block:n,selectedValue:t,selectValue:i,tabValues:r}){const o=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),c=e=>{const n=e.currentTarget,a=o.indexOf(n),s=r[a].value;s!==t&&(l(n),i(s))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},e),children:r.map(({value:e,label:n,attributes:i})=>(0,g.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{o.push(e)},onKeyDown:d,onClick:c,...i,className:(0,a.A)("tabs__item",f.tabItem,i?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function b({lazy:e,children:n,selectedValue:t}){const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===t);return e?(0,i.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function k(e){const n=x(e);return(0,g.jsxs)("div",{className:(0,a.A)("tabs-container",f.tabList),children:[(0,g.jsx)(j,{...n,...e}),(0,g.jsx)(b,{...n,...e})]})}function v(e){const n=(0,y.A)();return(0,g.jsx)(k,{...e,children:u(e.children)},String(n))}},3093:(e,n,t)=>{"use strict";t.d(n,{A:()=>r});t(6540);var i=t(4164),a=t(8774),s=t(4848);function r({size:e=null,outline:n=!1,variant:t="primary",block:r=!1,disabled:o=!1,className:l,style:c,link:d,label:u}){const h=e?{sm:"sm",small:"sm",lg:"lg",large:"lg",medium:null}[e]:"",p=h?`button--${h}`:"",m=n?"button--outline":"",x=t?`button--${t}`:"",y=r?"button--block":"",f=o?"disabled":"",g=o?null:d;return(0,s.jsx)(a.A,{to:g,children:(0,s.jsx)("button",{className:(0,i.A)("button",p,m,x,y,f,l),style:c,role:"button","aria-disabled":o,children:u})})}},3554:(e,n,t)=>{var i,a=Object.create,s=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(e,n,t,i)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let a of o(n))c.call(e,a)||a===t||s(e,a,{get:()=>n[a],enumerable:!(i=r(n,a))||i.enumerable});return e},u={};((e,n)=>{for(var t in n)s(e,t,{get:n[t],enumerable:!0})})(u,{default:()=>x}),e.exports=(i=u,d(s({},"__esModule",{value:!0}),i));var h=((e,n,t)=>(t=null!=e?a(l(e)):{},d(!n&&e&&e.__esModule?t:s(t,"default",{value:e,enumerable:!0}),e)))(t(7015)),p=t(5580);const m=h.default[h.default.length-1];var x=(0,p.createReactPlayer)(h.default,m)},3964:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});t(6540);var i=t(4164),a=t(4848);const s=({className:e,style:n,children:t,textAlign:s,variant:r,italic:o=!1,noDecoration:l=!1,transform:c,breakWord:d=!1,truncate:u=!1,weight:h})=>{const p=s?`text--${s}`:"",m=r?`text--${r}`:"",x=o?"text--italic":"",y=l?"text-no-decoration":"",f=c?`text--${c}`:"",g=d?"text--break":"",j=u?"text--truncate":"",b=h?`text--${h}`:"";return(0,a.jsx)("div",{className:(0,i.A)("card__body",e,p,f,m,x,y,g,j,b),style:n,children:t})}},7015:(e,n,t)=>{Object.create;var i,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,o=(Object.getPrototypeOf,Object.prototype.hasOwnProperty),l=(e,n,t,i)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let l of r(n))o.call(e,l)||l===t||a(e,l,{get:()=>n[l],enumerable:!(i=s(n,l))||i.enumerable});return e},c={};((e,n)=>{for(var t in n)a(e,t,{get:n[t],enumerable:!0})})(c,{default:()=>h}),e.exports=(i=c,l(a({},"__esModule",{value:!0}),i));var d=t(5635),u=t(327),h=[{key:"youtube",name:"YouTube",canPlay:u.canPlay.youtube,lazyPlayer:(0,d.lazy)(()=>t.e(446).then(t.t.bind(t,2910,23)))},{key:"soundcloud",name:"SoundCloud",canPlay:u.canPlay.soundcloud,lazyPlayer:(0,d.lazy)(()=>t.e(979).then(t.t.bind(t,3127,23)))},{key:"vimeo",name:"Vimeo",canPlay:u.canPlay.vimeo,lazyPlayer:(0,d.lazy)(()=>t.e(173).then(t.t.bind(t,1423,23)))},{key:"mux",name:"Mux",canPlay:u.canPlay.mux,lazyPlayer:(0,d.lazy)(()=>t.e(723).then(t.t.bind(t,7553,23)))},{key:"facebook",name:"Facebook",canPlay:u.canPlay.facebook,lazyPlayer:(0,d.lazy)(()=>t.e(887).then(t.t.bind(t,1343,23)))},{key:"streamable",name:"Streamable",canPlay:u.canPlay.streamable,lazyPlayer:(0,d.lazy)(()=>t.e(627).then(t.t.bind(t,9643,23)))},{key:"wistia",name:"Wistia",canPlay:u.canPlay.wistia,lazyPlayer:(0,d.lazy)(()=>t.e(340).then(t.t.bind(t,3330,23)))},{key:"twitch",name:"Twitch",canPlay:u.canPlay.twitch,lazyPlayer:(0,d.lazy)(()=>t.e(42).then(t.t.bind(t,1400,23)))},{key:"dailymotion",name:"DailyMotion",canPlay:u.canPlay.dailymotion,lazyPlayer:(0,d.lazy)(()=>t.e(328).then(t.t.bind(t,9348,23)))},{key:"mixcloud",name:"Mixcloud",canPlay:u.canPlay.mixcloud,lazyPlayer:(0,d.lazy)(()=>t.e(570).then(t.t.bind(t,3276,23)))},{key:"vidyard",name:"Vidyard",canPlay:u.canPlay.vidyard,lazyPlayer:(0,d.lazy)(()=>t.e(392).then(t.t.bind(t,3552,23)))},{key:"kaltura",name:"Kaltura",canPlay:u.canPlay.kaltura,lazyPlayer:(0,d.lazy)(()=>t.e(463).then(t.t.bind(t,7945,23)))},{key:"file",name:"FilePlayer",canPlay:u.canPlay.file,canEnablePIP:e=>u.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,d.supportsWebKitPresentationMode)())&&!u.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,d.lazy)(()=>t.e(458).then(t.t.bind(t,688,23)))}]},7138:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});t(6540);var i=t(4164),a=t(4848);function s({children:e,className:n,style:t}){return(0,a.jsx)("div",{className:"container center",children:(0,a.jsx)("div",{className:(0,i.A)("row",n),style:t,children:e})})}},7261:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});t(6540);var i=t(4164),a=t(4848);const s=({className:e,style:n,children:t,textAlign:s,variant:r,italic:o=!1,noDecoration:l=!1,transform:c,breakWord:d=!1,truncate:u=!1,weight:h})=>{const p=s?`text--${s}`:"",m=r?`text--${r}`:"",x=o?"text--italic":"",y=l?"text-no-decoration":"",f=c?`text--${c}`:"",g=d?"text--break":"",j=u?"text--truncate":"",b=h?`text--${h}`:"";return(0,a.jsx)("div",{className:(0,i.A)("card__footer",e,p,f,m,x,y,g,j,b),style:n,children:t})}},9223:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});t(6540);var i=t(4164),a=t(4848);const s=({className:e,style:n,children:t,textAlign:s,variant:r,italic:o=!1,noDecoration:l=!1,transform:c,breakWord:d=!1,truncate:u=!1,weight:h})=>{const p=s?`text--${s}`:"",m=r?`text--${r}`:"",x=o?"text--italic":"",y=l?"text-no-decoration":"",f=c?`text--${c}`:"",g=d?"text--break":"",j=u?"text--truncate":"",b=h?`text--${h}`:"";return(0,a.jsx)("div",{className:(0,i.A)("card__header",e,p,f,m,x,y,g,j,b),style:n,children:t})}},9365:(e,n,t)=>{"use strict";t.d(n,{A:()=>r});t(6540);var i=t(4164);const a={tabItem:"tabItem_Ymn6"};var s=t(4848);function r({children:e,hidden:n,className:t}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.A)(a.tabItem,t),hidden:n,children:e})}},9471:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>j,contentTitle:()=>g,default:()=>v,frontMatter:()=>f,metadata:()=>i,toc:()=>b});const i=JSON.parse('{"id":"tucca-rna-seq/install-and-config/deployment","title":"Workflow Deployment Options","description":"Recommended Deployment Strategy","source":"@site/docs/tucca-rna-seq/install-and-config/deployment.mdx","sourceDirName":"tucca-rna-seq/install-and-config","slug":"/tucca-rna-seq/install-and-config/deployment","permalink":"/tucca-rna-seq/install-and-config/deployment","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{"title":"Workflow Deployment Options"},"sidebar":"tucca_rna_seq","previous":{"title":"Snakemake Primer","permalink":"/tucca-rna-seq/install-and-config/snakemake-primer"},"next":{"title":"Installing tucca-rna-seq","permalink":"/tucca-rna-seq/install-and-config/installation"}}');var a=t(4848),s=t(8453),r=t(1470),o=t(9365),l=(t(8774),t(3093)),c=t(3554),d=t.n(c),u=t(9959),h=t(9223),p=t(3964),m=t(7261),x=t(7138),y=t(9823);const f={title:"Workflow Deployment Options"},g="Workflow Deployment Options",j={},b=[{value:"Recommended Deployment Strategy",id:"recommended-deployment-strategy",level:2},{value:"Layered Environments with Singularity/Apptainer + Conda",id:"layered-environments-with-singularityapptainer--conda",level:3},{value:"How It Works in Practice",id:"how-it-works-in-practice",level:3},{value:"Helpful Resources (Docs / Guides)",id:"helpful-resources-docs--guides",level:2},{value:"Apptainer / Singularity",id:"apptainer--singularity",level:3},{value:"Conda",id:"conda",level:3},{value:"Choosing an Execution Platform",id:"choosing-an-execution-platform",level:2},{value:"Execution Backends",id:"execution-backends",level:3},{value:"High-Performance Computing (HPC) Clusters",id:"high-performance-computing-hpc-clusters",level:4},{value:"Local Execution",id:"local-execution",level:4},{value:"Cloud and Container Orchestration",id:"cloud-and-container-orchestration",level:4},{value:"Continuous Integration (CI) with GitHub Actions",id:"continuous-integration-ci-with-github-actions",level:3},{value:"Storage Backends",id:"storage-backends",level:3},{value:"Working on a High-Performance Compute (HPC) Cluster",id:"working-on-a-high-performance-compute-hpc-cluster",level:2},{value:"HPC Learning Materials",id:"hpc-learning-materials",level:3},{value:"Recommended Tool: Visual Studio Code (VSCode)",id:"recommended-tool-visual-studio-code-vscode",level:2},{value:"Learning Resources for VSCode",id:"learning-resources-for-vscode",level:3},{value:"Download and Install VSCode",id:"download-and-install-vscode",level:3}];function k(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"workflow-deployment-options",children:"Workflow Deployment Options"})}),"\n",(0,a.jsx)(n.h2,{id:"recommended-deployment-strategy",children:"Recommended Deployment Strategy"}),"\n",(0,a.jsx)(n.h3,{id:"layered-environments-with-singularityapptainer--conda",children:"Layered Environments with Singularity/Apptainer + Conda"}),"\n",(0,a.jsxs)(n.p,{children:["The most robust and reproducible way to run this workflow is by combining\ncontainers and package management in a layered approach, as described in the\n",(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.a,{href:"https://snakemake.readthedocs.io/en/stable/snakefiles/deployment.html#ad-hoc-combination-of-conda-package-management-with-containers",children:"official Snakemake documentation"})}),". This is the method we've\nimplemented and recommend."]}),"\n",(0,a.jsxs)(n.p,{children:['At first, it might sound redundant: "Why use a package manager ',(0,a.jsx)(n.em,{children:"inside"}),' a\ncontainer?" The answer lies in achieving the ultimate balance of\nreproducibility, flexibility, and efficiency.']}),"\n",(0,a.jsx)(n.p,{children:"Let's continue with our kitchen and shopping list analogy:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsxs)(n.strong,{children:[(0,a.jsx)(n.code,{children:"Singularity/Apptainer"})," is the Portable Kitchen:"]})," It provides the entire\nstandardized kitchen environment: the operating system, the plumbing, the\nwiring, and the core ",(0,a.jsx)(n.code,{children:"conda"})," appliance. When you run the workflow with\n",(0,a.jsx)(n.code,{children:"--use-singularity"})," or ",(0,a.jsx)(n.code,{children:"--use-apptainer"}),", you are ensuring every step of the\nanalysis happens inside this identical, portable kitchen, no matter if you're\non your laptop or an HPC cluster."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsxs)(n.strong,{children:[(0,a.jsx)(n.code,{children:"--use-conda"})," is the Automated Shopping Trip:"]})," For every single step in\nthe main recipe (a Snakemake rule), ",(0,a.jsx)(n.code,{children:"--use-conda"})," performs a specialized,\njust-in-time shopping trip. It reads a very specific shopping list (the rule's\n",(0,a.jsx)(n.code,{children:"environment.yaml"}),' file) that details the exact "brand" and "version" of every\ningredient (software like ',(0,a.jsx)(n.code,{children:"fastqc=0.11.9"}),") needed for ",(0,a.jsx)(n.em,{children:"only that step"}),". It then\nuses the ",(0,a.jsx)(n.code,{children:"conda"})," tool inside the kitchen to instantly procure these items and\nplace them in a clean, isolated pantry for that specific task."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"This two-layer system is the gold standard for several reasons:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Absolute Reproducibility:"})," You control the outer environment (the\nkitchen's OS via Singularity/Apptainer) and the inner environment (the specific\ningredients for each step via Conda). This eliminates almost every variable\nthat could cause results to differ between machines."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Unmatched Flexibility:"})," Need one brand of flour (",(0,a.jsx)(n.code,{children:"samtools v1.9"}),") for the\ncake and a different brand (",(0,a.jsx)(n.code,{children:"samtools v1.15"}),") for the bread? No problem. Each\nrecipe step gets its own shopping trip and its own isolated pantry, so\ningredients never get mixed up."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Efficiency:"})," The base kitchen (Apptainer container) stays small and\nsimple; it only needs the basic ",(0,a.jsx)(n.code,{children:"conda"})," appliance. You don't need to stock the\nkitchen with every possible ingredient from the start. The workflow performs\nthese small, fast shopping trips on-the-fly, only when an ingredient is needed."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"how-it-works-in-practice",children:"How It Works in Practice"}),"\n",(0,a.jsxs)(n.p,{children:["When you execute the command ",(0,a.jsx)(n.code,{children:"snakemake all --use-singularity --use-conda"}),", to\nrun a configured workflow, a precise sequence of events unfolds:"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"DAG Calculation:"})," First, Snakemake reads the entire ",(0,a.jsx)(n.code,{children:"Snakefile"})," (the\nrecipe). It compares the outputs you've asked for with the files that already\nexist, and it builds a full dependency graph of all jobs that need to run. This\nis the ",(0,a.jsx)(n.strong,{children:"Directed Acyclic Graph (DAG)"}),", which serves as the master plan for\nthe entire analysis."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Environment Creation:"})," Next, ",(0,a.jsx)(n.em,{children:"before a single\ncomputational job is run"}),", Snakemake identifies all the unique software\nenvironments (",(0,a.jsx)(n.code,{children:"environment.yaml"})," files) required for the jobs in the DAG. It\nthen creates all of these Conda environments. This is like doing all the\ngrocery shopping for every course of a multi-course meal before you even start\npreheating the oven."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Job Execution:"})," With the plan (DAG) made and all the pantries stocked\n(Conda environments created), Snakemake begins executing jobs."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"It starts with the jobs at the beginning of the DAG, which have no\nunfinished dependencies."}),"\n",(0,a.jsxs)(n.li,{children:["For each job, it uses ",(0,a.jsx)(n.strong,{children:"Singularity/Apptainer"}),' to enter the standardized\n"kitchen."']}),"\n",(0,a.jsxs)(n.li,{children:["Inside, it activates the specific, pre-built ",(0,a.jsx)(n.strong,{children:"Conda"}),' environment\n("pantry") for that job.']}),"\n",(0,a.jsx)(n.li,{children:"It runs the job's script in this doubly-isolated environment."}),"\n",(0,a.jsx)(n.li,{children:"As each job finishes, Snakemake checks the DAG to see which downstream\njobs are now unlocked and ready to run, continuing until the final output\nis generated."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"helpful-resources-docs--guides",children:"Helpful Resources (Docs / Guides)"}),"\n",(0,a.jsxs)(x.A,{style:{marginBottom:"20px"},children:[(0,a.jsx)(y.A,{style:{display:"flex"},children:(0,a.jsxs)(u.A,{shadow:"md",style:{marginTop:"20px",flexGrow:1},children:[(0,a.jsx)(h.A,{children:(0,a.jsx)(n.h3,{id:"apptainer--singularity",children:"Apptainer / Singularity"})}),(0,a.jsxs)(p.A,{children:[(0,a.jsx)("p",{children:(0,a.jsx)(n.p,{children:"The container runtime that allows you to run the workflow in a\nself-contained environment. We use it to run a Docker container image."})}),(0,a.jsx)(l.A,{label:"Apptainer User Guide",link:"https://apptainer.org/docs/user/main/",variant:"primary",className:"button--block"}),(0,a.jsx)(l.A,{label:"Snakemake & Containers",link:"https://snakemake.readthedocs.io/en/stable/snakefiles/deployment.html#running-jobs-in-containers",variant:"secondary",className:"button--block",style:{marginTop:"10px"}})]}),(0,a.jsx)(m.A,{children:(0,a.jsx)("p",{style:{fontSize:"0.8em",fontStyle:"italic"},children:(0,a.jsx)(n.p,{children:"A quick note: Apptainer is the new name for the open-source container\ntechnology formerly known as Singularity. For the purposes of this\nworkflow, the tools are functionally identical, and we may use their\nnames interchangeably."})})})]})}),(0,a.jsx)(y.A,{style:{display:"flex"},children:(0,a.jsxs)(u.A,{shadow:"md",style:{marginTop:"20px",flexGrow:1},children:[(0,a.jsx)(h.A,{children:(0,a.jsx)(n.h3,{id:"conda",children:"Conda"})}),(0,a.jsxs)(p.A,{children:[(0,a.jsx)("p",{children:(0,a.jsxs)(n.p,{children:["The package manager that operates ",(0,a.jsx)("strong",{children:"inside the container"}),"\nto manage the specific software packages required by the Snakemake\nrules."]})}),(0,a.jsx)(l.A,{label:"Conda User Guide",link:"https://docs.conda.io/projects/conda/en/latest/user-guide/index.html",variant:"primary",className:"button--block"}),(0,a.jsx)(l.A,{label:"Default container: continuumio/miniconda3",link:"https://hub.docker.com/r/continuumio/miniconda3",variant:"secondary",className:"button--block",style:{marginTop:"10px"}})]}),(0,a.jsx)(m.A,{children:(0,a.jsx)("p",{style:{fontSize:"0.8em",fontStyle:"italic"},children:(0,a.jsx)(n.p,{children:"Note: There are several Conda distributions, such as Anaconda\n(includes many scientific packages by default), Miniconda (a minimal\ninstaller), and Miniforge/Mambaforge (uses the community-driven\nconda-forge channel). Our workflow's container uses Miniconda."})})})]})})]}),"\n",(0,a.jsxs)(n.admonition,{title:"A Note on Installation",type:"warning",children:[(0,a.jsx)(n.p,{children:"Installing Apptainer/Singularity requires administrator (root) privileges,\nwhich can make it difficult to set up on a personal machine."}),(0,a.jsx)(n.p,{children:"However, because it is a standard tool in scientific computing, most HPC\nclusters already have it installed. We recommend checking your HPC's\ndocumentation or contacting its support team to confirm before you start."})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"choosing-an-execution-platform",children:"Choosing an Execution Platform"}),"\n",(0,a.jsx)(n.p,{children:"In addition to the software deployment strategy (using Conda, Singularity,\nor both), you also need to decide on the hardware or platform where the workflow\nwill run. Snakemake's plugin-based architecture allows it to adapt to a wide\nvariety of execution and storage backends."}),"\n",(0,a.jsx)(n.h3,{id:"execution-backends",children:"Execution Backends"}),"\n",(0,a.jsx)(n.h4,{id:"high-performance-computing-hpc-clusters",children:"High-Performance Computing (HPC) Clusters"}),"\n",(0,a.jsxs)(n.p,{children:["A ",(0,a.jsx)(n.strong,{children:"High-Performance Compute (HPC)"})," cluster is a network of powerful servers\ndesigned for complex data analysis. Many researchers use HPC clusters to run\nbioinformatics workflows because they can process large datasets much faster\nthan a personal computer. The workflow can be adapted to different HPC\nschedulers by creating custom profiles and using the appropriate executor\nplugin:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Slurm"}),": ",(0,a.jsx)(n.code,{children:"snakemake-executor-plugin-slurm"})," (used in this workflow's\npre-configured profiles)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"LSF"}),": ",(0,a.jsx)(n.code,{children:"snakemake-executor-plugin-lsf"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"PBS/Torque"}),": ",(0,a.jsx)(n.code,{children:"snakemake-executor-plugin-pbs"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"SGE"}),": ",(0,a.jsx)(n.code,{children:"snakemake-executor-plugin-sge"})]}),"\n",(0,a.jsxs)(n.li,{children:["And many others, which you can explore in the\n",(0,a.jsx)(n.a,{href:"https://snakemake.github.io/snakemake-plugin-catalog/#executor-plugins",children:"Snakemake Executor Plugin Catalog"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"local-execution",children:"Local Execution"}),"\n",(0,a.jsx)(n.p,{children:"For small datasets or testing, you can run the workflow on a local machine\n(e.g., a personal laptop or workstation). In this case, Snakemake does not\nrequire a special executor plugin and will run jobs directly on your computer."}),"\n",(0,a.jsx)(n.admonition,{title:"Local Execution Limitations",type:"warning",children:(0,a.jsx)(n.p,{children:"Local execution is suitable for small genomes and limited datasets. For\nproduction analyses, an HPC cluster or cloud environment is recommended."})}),"\n",(0,a.jsx)(n.h4,{id:"cloud-and-container-orchestration",children:"Cloud and Container Orchestration"}),"\n",(0,a.jsx)(n.p,{children:"The workflow also supports various cloud and container platforms through\ndedicated executor plugins:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Kubernetes"}),": ",(0,a.jsx)(n.code,{children:"snakemake-executor-plugin-kubernetes"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Google Cloud Batch"}),": ",(0,a.jsx)(n.code,{children:"snakemake-executor-plugin-googlebatch"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"AWS Batch"}),": ",(0,a.jsx)(n.code,{children:"snakemake-executor-plugin-aws-batch"})]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"continuous-integration-ci-with-github-actions",children:"Continuous Integration (CI) with GitHub Actions"}),"\n",(0,a.jsxs)(n.p,{children:["This repository comes with a pre-configured GitHub Actions workflow (",(0,a.jsx)(n.code,{children:".github/workflows/main.yml"}),")\nthat automatically tests the workflow's integrity on every push and pull\nrequest. This ensures that the code is always in a working state."]}),"\n",(0,a.jsxs)(n.admonition,{title:"For Testing Only",type:"danger",children:[(0,a.jsxs)(n.p,{children:["The included GitHub Actions workflow runs on free, public runners, which have\nlimited computational resources and disk space. ",(0,a.jsx)(n.strong,{children:"It is designed for testing\nwith small datasets only and cannot be used to run a real-world analysis."})]}),(0,a.jsxs)(n.p,{children:["For large-scale production runs, you can repurpose the\n",(0,a.jsx)(n.code,{children:".github/workflows/main.yml"})," file by configuring it to use ",(0,a.jsx)(n.strong,{children:"self-hosted\nrunners"})," with sufficient resources. This typically involves changing the\n",(0,a.jsx)(n.code,{children:"runs-on"})," key in the workflow file to target your self-hosted runner group."]})]}),"\n",(0,a.jsx)(n.h3,{id:"storage-backends",children:"Storage Backends"}),"\n",(0,a.jsxs)(n.p,{children:["For workflows that run in the cloud or across different physical locations,\nSnakemake can use ",(0,a.jsx)(n.strong,{children:"storage plugins"})," to seamlessly access data from various\nremote storage backends. This means your ",(0,a.jsx)(n.code,{children:"Snakefile"})," can reference remote files\n(e.g., in an S3 bucket) as if they were on your local filesystem."]}),"\n",(0,a.jsx)(n.p,{children:"Some of the available storage plugins include:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Amazon S3"}),": ",(0,a.jsx)(n.code,{children:"snakemake-storage-plugin-s3"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Google Cloud Storage"}),": ",(0,a.jsx)(n.code,{children:"snakemake-storage-plugin-gcs"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Microsoft Azure Blob Storage"}),": ",(0,a.jsx)(n.code,{children:"snakemake-storage-plugin-azure"})]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["You can explore all available storage backends in the\n",(0,a.jsx)(n.a,{href:"https://snakemake.github.io/snakemake-plugin-catalog/#storage-plugins",children:"Snakemake Storage Plugin Catalog"}),"."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"working-on-a-high-performance-compute-hpc-cluster",children:"Working on a High-Performance Compute (HPC) Cluster"}),"\n",(0,a.jsxs)(n.p,{children:["You typically connect to an HPC cluster using ",(0,a.jsx)(n.strong,{children:"SSH (Secure Shell)"}),", which\nprovides a secure command-line interface to the remote servers."]}),"\n",(0,a.jsx)(n.h3,{id:"hpc-learning-materials",children:"HPC Learning Materials"}),"\n",(0,a.jsxs)(n.admonition,{title:"New to HPC?",type:"info",children:[(0,a.jsx)(n.p,{children:"If you are not familiar with high-performance computing, these resources are a\ngreat place to start."}),(0,a.jsxs)(r.A,{children:[(0,a.jsxs)(o.A,{value:"hpc-carpentry",label:"HPC Carpentry Lessons",children:[(0,a.jsx)("p",{children:(0,a.jsx)(n.p,{children:"HPC Carpentry teaches foundational skills for high-performance computing."})}),(0,a.jsx)(l.A,{label:"Visit HPC Carpentry",link:"https://www.hpc-carpentry.org/community-lessons/",variant:"primary",className:"button--block"})]}),(0,a.jsxs)(o.A,{value:"hpc-mainpage",label:"Tufts HPC Home Page",children:[(0,a.jsx)("p",{children:(0,a.jsx)(n.p,{children:"Tufts Technology Service's (TTS) home page for the Tufts University HPC\ncluster."})}),(0,a.jsx)(l.A,{label:"Go to HPC Home Page",link:"https://it.tufts.edu/high-performance-computing",variant:"primary",className:"button--block"})]}),(0,a.jsxs)(o.A,{value:"hpc-docs",label:"Tufts HPC User Guide",children:[(0,a.jsx)("p",{children:(0,a.jsx)(n.p,{children:"Technical documentation for the Tufts HPC cluster, provided by TTS\nResearch Technology."})}),(0,a.jsx)(l.A,{label:"Read the HPC User Guide",link:"https://rtguides.it.tufts.edu/hpc/",variant:"primary",className:"button--block"})]})]})]}),"\n",(0,a.jsxs)(n.admonition,{title:"Tufts HPC Materials",type:"tip",children:[(0,a.jsx)(n.p,{children:"If you are Tufts staff/student/faculty, please refer to our Tufts-specific\nguides for deployment via the Tufts HPC cluster:"}),(0,a.jsx)(l.A,{label:"Tufts HPC Quick Start Guide",link:"/tucca-rna-seq/tufts-specific/hpc-quick-start",variant:"primary",className:"button--block"}),(0,a.jsx)(l.A,{label:"Tufts HPC Best Practices",link:"/tucca-rna-seq/tufts-specific/hpc-best-practices",variant:"secondary",className:"button--block",style:{marginTop:"10px"}})]}),"\n",(0,a.jsx)(n.h2,{id:"recommended-tool-visual-studio-code-vscode",children:"Recommended Tool: Visual Studio Code (VSCode)"}),"\n",(0,a.jsxs)(n.p,{children:["We highly recommend using an integrated development environment (IDE) like\n",(0,a.jsx)(n.strong,{children:"VSCode"})," to interact with this workflow, especially when working on an HPC\ncluster."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"VSCode"})," is a free, powerful code editor that can connect to remote servers\nvia SSH. This allows you to edit files, run commands, and manage your workflow\non the HPC cluster directly from a user-friendly interface on your local\nmachine. It offers several key advantages for scientific workflows:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Remote Development"}),": VSCode can seamlessly connect to remote servers,\nallowing you to edit files, run code, and manage projects directly on the\nHPC without leaving your local environment."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Integrated Terminal"}),": Access the HPC terminal within VSCode, enabling\nefficient command-line operations alongside your coding activities."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Extensions and Customization"}),": Enhance your development experience with\nextensions tailored for specific programming languages, debugging tools, and\nworkflow optimizations."]}),"\n"]}),"\n",(0,a.jsxs)(n.admonition,{type:"tip",children:[(0,a.jsx)(n.p,{children:"If you are Tufts staff/student/faculty, please refer our documentation for\nsetting up access to the Tufts HPC cluster via VSCode:"}),(0,a.jsx)(l.A,{label:"Learn to Set Up Tufts HPC Access in VSCode",link:"/tucca-rna-seq/tufts-specific/tufts-hpc-in-vscode",variant:"primary"})]}),"\n",(0,a.jsx)(n.h3,{id:"learning-resources-for-vscode",children:"Learning Resources for VSCode"}),"\n",(0,a.jsxs)(x.A,{children:[(0,a.jsx)(y.A,{children:(0,a.jsxs)(u.A,{shadow:"md",style:{marginTop:"20px"},children:[(0,a.jsx)(h.A,{children:(0,a.jsx)("h3",{children:"Official Documentation"})}),(0,a.jsxs)(p.A,{children:[(0,a.jsx)("p",{children:(0,a.jsx)(n.p,{children:"The official docs are the best place to start, covering everything\nfrom basic setup to advanced features."})}),(0,a.jsx)(l.A,{label:"VS Code Docs",link:"https://code.visualstudio.com/docs",variant:"primary",className:"button--block"}),(0,a.jsx)(l.A,{label:"Getting Started Guide",link:"https://code.visualstudio.com/docs/getstarted/getting-started",variant:"secondary",className:"button--block",style:{marginTop:"10px"}}),(0,a.jsx)(l.A,{label:"Introductory Videos",link:"https://code.visualstudio.com/docs/getstarted/introvideos",variant:"info",className:"button--block",style:{marginTop:"10px"}})]})]})}),(0,a.jsx)(y.A,{children:(0,a.jsxs)(u.A,{shadow:"md",style:{marginTop:"20px"},children:[(0,a.jsx)(h.A,{children:(0,a.jsx)("h3",{children:"VS Code in 100 Seconds"})}),(0,a.jsx)(p.A,{children:(0,a.jsx)(d(),{url:"https://www.youtube.com/watch?v=KMxo3T_MTvY",width:"100%",height:"100%",controls:!0})}),(0,a.jsx)(m.A,{children:(0,a.jsx)("p",{children:(0,a.jsx)(n.p,{children:"A quick overview of VS Code's core features, including the command\npalette, integrated terminal, and extensions."})})})]})}),(0,a.jsx)(y.A,{children:(0,a.jsxs)(u.A,{shadow:"md",style:{marginTop:"20px"},children:[(0,a.jsx)(h.A,{children:(0,a.jsx)("h3",{children:"25 VS Code Productivity Tips"})}),(0,a.jsx)(p.A,{children:(0,a.jsx)(d(),{url:"https://www.youtube.com/watch?v=ifTF3ags0XI",width:"100%",height:"100%",controls:!0})}),(0,a.jsx)(m.A,{children:(0,a.jsx)("p",{children:(0,a.jsx)(n.p,{children:"Improve your workflow with tips on keyboard shortcuts, multi-line\nediting, and useful extensions like GitLens and Quokka."})})})]})})]}),"\n",(0,a.jsx)(x.A,{children:(0,a.jsx)(y.A,{children:(0,a.jsxs)(u.A,{shadow:"md",style:{marginTop:"20px"},children:[(0,a.jsx)(h.A,{children:(0,a.jsx)(n.h3,{id:"download-and-install-vscode",children:"Download and Install VSCode"})}),(0,a.jsxs)(p.A,{children:[(0,a.jsx)("p",{children:(0,a.jsx)(n.p,{children:"Visit the official Visual Studio Code website to download the\ninstaller for your operating system."})}),(0,a.jsx)(l.A,{label:"VSCode Download Page",link:"https://code.visualstudio.com/download",variant:"primary",className:"button--block"}),(0,a.jsxs)("div",{style:{marginTop:"20px",textAlign:"left"},children:[(0,a.jsx)("h4",{children:"Installation Instructions:"}),(0,a.jsxs)(t,{children:[(0,a.jsx)("summary",{children:"Windows"}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:["Run the downloaded ",(0,a.jsx)("code",{children:".exe"})," installer."]}),(0,a.jsx)("li",{children:"Follow the installation prompts, accepting the license agreement and selecting desired installation options (e.g., adding VSCode to your PATH)."})]})]}),(0,a.jsxs)(t,{children:[(0,a.jsx)("summary",{children:"macOS"}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:["Open the downloaded ",(0,a.jsx)("code",{children:".dmg"})," file."]}),(0,a.jsx)("li",{children:"Drag and drop the VSCode application into the Applications\nfolder."})]})]}),(0,a.jsxs)(t,{children:[(0,a.jsx)("summary",{children:"Linux"}),(0,a.jsx)("p",{children:(0,a.jsx)(n.p,{children:"Follow the instructions for your distribution on the VSCode\nwebsite."})}),(0,a.jsx)(l.A,{label:"Linux Setup Instructions",link:"https://code.visualstudio.com/docs/setup/linux",variant:"secondary",className:"button--block"})]})]})]}),(0,a.jsx)(m.A,{children:(0,a.jsx)("p",{children:(0,a.jsxs)(n.p,{children:["After installation, open VSCode from your application launcher or by\nrunning ",(0,a.jsx)("code",{children:"code"})," in your terminal (if added to PATH)."]})})})]})})})]})}function v(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(k,{...e})}):k(e)}},9823:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});t(6540);var i=t(4164),a=t(4848);function s({children:e,className:n,style:t}){return(0,a.jsx)("div",{className:(0,i.A)("col",n),style:t,children:e})}},9959:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});t(6540);var i=t(4164),a=t(4848);const s=({className:e,style:n,children:t,shadow:s})=>{const r=s?`item shadow--${s}`:"";return(0,a.jsx)("div",{className:(0,i.A)("card",e,r),style:n,children:t})}}}]);