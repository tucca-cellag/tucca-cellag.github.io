"use strict";(self.webpackChunktucca_cellag=self.webpackChunktucca_cellag||[]).push([[996],{4242:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>u,default:()=>p,frontMatter:()=>c,metadata:()=>o,toc:()=>h});const o=JSON.parse('{"id":"tucca-rna-seq/fresh-project-install","title":"Installing the Workflow for Another Project - Returning Users Only","description":"\ud83d\udea7 Coming Soon! \ud83d\udea7","source":"@site/docs/tucca-rna-seq/fresh-project-install.mdx","sourceDirName":"tucca-rna-seq","slug":"/tucca-rna-seq/fresh-project-install","permalink":"/tucca-rna-seq/fresh-project-install","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Installing the Workflow for Another Project - Returning Users Only"},"sidebar":"tuccarnaseq","previous":{"title":"Getting Salmon Pseudocounts","permalink":"/tucca-rna-seq/running-the-workflow/salmon-counts"},"next":{"title":"Helpful Resources","permalink":"/category/helpful-resources"}}');var r=t(4848),a=t(8453),l=t(5537),i=t(9329),s=t(7024);const c={title:"Installing the Workflow for Another Project - Returning Users Only"},u="Installing the Workflow for Another Project",d={},h=[{value:"1. Login to the Tufts HPC",id:"1-login-to-the-tufts-hpc",level:2},{value:"2. Get off of a login node",id:"2-get-off-of-a-login-node",level:2},{value:"3. Clone the repository",id:"3-clone-the-repository",level:2},{value:"4. Dependencies installation",id:"4-dependencies-installation",level:2}];function f(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.admonition,{type:"warning",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\ud83d\udea7 Coming Soon! \ud83d\udea7"})}),(0,r.jsx)(n.p,{children:"Our website is currently under construction and will be launching soon.\nStay tuned!"}),(0,r.jsxs)(n.p,{children:["In the meantime, feel free to ",(0,r.jsx)(n.a,{href:"mailto:benjamin.bromberg@tufts.edu",children:"contact us"}),"\nwith any questions."]}),(0,r.jsx)(n.p,{children:"Thank you for your patience"})]}),"\n",(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"installing-the-workflow-for-another-project",children:"Installing the Workflow for Another Project"})}),"\n",(0,r.jsxs)(n.p,{children:["These instructions are for if you've already run the ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"tucca-rna-seq"})}),"\nworkflow but want to start a new project or analysis without affecting your\nprevious  work, which is crucial for maintaining reproducibility."]}),"\n",(0,r.jsxs)(l.A,{children:[(0,r.jsxs)(i.A,{value:"tufts-hpc",label:"Tufts HPC Users",default:!0,children:[(0,r.jsx)(n.h2,{id:"1-login-to-the-tufts-hpc",children:"1. Login to the Tufts HPC"}),(0,r.jsx)(n.p,{children:"SSH into the Tufts HPC through the command line at a UNIX-like terminal on\nyour laptop or desktop or you can access the cluster through Tufts'\nOnDemand service. You will need a Tufts Cluster Account to be able to log\nin to the Tufts HPC."}),(0,r.jsx)(s.A,{label:"Tufts OnDemand",link:"https://ondemand.pax.tufts.edu/",variant:"primary"}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h2,{id:"2-get-off-of-a-login-node",children:"2. Get off of a login node"}),(0,r.jsx)(n.p,{children:"Once logged into the Tufts HPC run the following to get off a login node and\nonto a compute node so that you can start performing computations."}),(0,r.jsxs)(n.p,{children:["After login you are on a Login Node of the cluster (",(0,r.jsx)(n.code,{children:"login-prod-0x"}),") and in\nyour Home Directory (",(0,r.jsx)(n.code,{children:"~"})," or ",(0,r.jsx)(n.code,{children:"/cluster/home/your_utln"}),"). Your terminal\nshould look like this:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ [your_utln@login-prod-02 ~]\n"})}),(0,r.jsx)(n.p,{children:"To get off a login node run:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"srun -p interactive --pty bash\n"})}),(0,r.jsxs)(n.p,{children:["This will allocate a compute node with bash shell, 1 CPU core (default),\n4 hours (interactive partition default and maxmimum value), and 2GB of CPU\nmemory (default). If desired, modify with number of CPU cores ",(0,r.jsx)(n.code,{children:"-n"})," , memory\n",(0,r.jsx)(n.code,{children:"--mem="})," , an alternative partition ",(0,r.jsx)(n.code,{children:"-p"})," , and/or runtime ",(0,r.jsx)(n.code,{children:"--time="})," ."]}),(0,r.jsx)(n.p,{children:"Depending on the current usage of the Tufts HPC, you may need to wait in a\nqueue to be allocated enough resources. This could take some time depending\non the current usage of the cluster."}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h2,{id:"3-clone-the-repository",children:"3. Clone the repository"}),(0,r.jsx)(n.p,{children:"Go to the desired directory (aka folder) on your file system on the Tufts\nHPC. Then clone (aka copy) the repository and move into the respective\ndirectory with:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/benjibromberg/tucca-rna-seq.git\n"})}),(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["For Kaplan Lab users, it is recommended to clone the repository into your\npersonal directory in the ",(0,r.jsx)(n.code,{children:"kaplanlab"})," workspace. After cloning the repo,\nyou can change the name of the cloned directory to suit your project. Refer\nto the Tufts HPC resources linked above if this does not make sense."]})}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h2,{id:"4-dependencies-installation",children:"4. Dependencies installation"}),(0,r.jsxs)(n.p,{children:["For improved reproducibility and reusability of the workflow,\neach individual step of the workflow runs either in its own ",(0,r.jsx)(n.a,{href:"https://docs.conda.io/projects/conda/en/latest/index.html",children:"Conda"}),"\nvirtual environment. As a consequence, running this workflow has very few\nindividual dependencies."]}),(0,r.jsxs)(n.p,{children:["You will need to add the ",(0,r.jsx)(n.code,{children:"bioconda"})," channel to your ",(0,r.jsx)(n.code,{children:"base"})," conda environment\nwhich loads everytime you load a conda manager like ",(0,r.jsx)(n.a,{href:"https://github.com/conda-forge/miniforge",children:"miniforge"}),".\nIf this is problematic for some reason, you will need to load another conda\nenvironment that includes the ",(0,r.jsx)(n.code,{children:"conda-forge"}),", ",(0,r.jsx)(n.code,{children:"bioconda"}),", and ",(0,r.jsx)(n.code,{children:"default"})," channels\nbefore loading the ",(0,r.jsx)(n.code,{children:"snakemake"})," conda environment which will require manually\nmodifying the ",(0,r.jsx)(n.code,{children:"run.sh"})," runner script."]}),(0,r.jsxs)(n.p,{children:["To add the ",(0,r.jsx)(n.code,{children:"bioconda"})," channel to your ",(0,r.jsx)(n.code,{children:"base"})," conda environment run:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"module load miniforge/24.7.1-py312\nconda activate base\nconda config --add channels bioconda\nconda config --add channels conda-forge\nconda config --set channel_priority strict\nconda config --show channels\n"})}),(0,r.jsx)(n.p,{children:"The result of the final command should match the following:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"channels:\n  - conda-forge\n  - bioconda\n  - defaults\n"})}),(0,r.jsxs)(n.p,{children:["Then run the following to create the ",(0,r.jsx)(n.code,{children:"snakemake"})," conda environment:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"conda env create -f tucca-rna-seq/install/snakemake.yaml\n"})})]}),(0,r.jsx)(i.A,{value:"external",label:"External Users",children:(0,r.jsx)(n.p,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\nquis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\nconsequat. Duis aute irure dolor in reprehenderit in voluptate velit esse\ncillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat\nnon proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})})]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}},9329:(e,n,t)=>{t.d(n,{A:()=>l});t(6540);var o=t(4164);const r={tabItem:"tabItem_Ymn6"};var a=t(4848);function l(e){let{children:n,hidden:t,className:l}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,o.A)(r.tabItem,l),hidden:t,children:n})}},5537:(e,n,t)=>{t.d(n,{A:()=>w});var o=t(6540),r=t(4164),a=t(5627),l=t(6347),i=t(372),s=t(604),c=t(1861),u=t(8749);function d(e){return o.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,o.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:o,default:r}}=e;return{value:n,label:t,attributes:o,default:r}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function f(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:t}=e;const r=(0,l.W6)(),a=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,s.aZ)(a),(0,o.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(r.location.search);n.set(a,e),r.replace({...r.location,search:n.toString()})}),[a,r])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,a=h(e),[l,s]=(0,o.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!f({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const o=t.find((e=>e.default))??t[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:n,tabValues:a}))),[c,d]=p({queryString:t,groupId:r}),[m,g]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,a]=(0,u.Dv)(t);return[r,(0,o.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:r}),b=(()=>{const e=c??m;return f({value:e,tabValues:a})?e:null})();(0,i.A)((()=>{b&&s(b)}),[b]);return{selectedValue:l,selectValue:(0,o.useCallback)((e=>{if(!f({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);s(e),d(e),g(e)}),[d,g,a]),tabValues:a}}var g=t(9136);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=t(4848);function j(e){let{className:n,block:t,selectedValue:o,selectValue:l,tabValues:i}=e;const s=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.a_)(),u=e=>{const n=e.currentTarget,t=s.indexOf(n),r=i[t].value;r!==o&&(c(n),l(r))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=s.indexOf(e.currentTarget)+1;n=s[t]??s[0];break}case"ArrowLeft":{const t=s.indexOf(e.currentTarget)-1;n=s[t]??s[s.length-1];break}}n?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:a}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:o===n?0:-1,"aria-selected":o===n,ref:e=>{s.push(e)},onKeyDown:d,onClick:u,...a,className:(0,r.A)("tabs__item",b.tabItem,a?.className,{"tabs__item--active":o===n}),children:t??n},n)}))})}function y(e){let{lazy:n,children:t,selectedValue:a}=e;const l=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=l.find((e=>e.props.value===a));return e?(0,o.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:l.map(((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function v(e){const n=m(e);return(0,x.jsxs)("div",{className:(0,r.A)("tabs-container",b.tabList),children:[(0,x.jsx)(j,{...n,...e}),(0,x.jsx)(y,{...n,...e})]})}function w(e){const n=(0,g.A)();return(0,x.jsx)(v,{...e,children:d(e.children)},String(n))}},7024:(e,n,t)=>{t.d(n,{A:()=>l});t(6540);var o=t(4164),r=t(6289),a=t(4848);function l(e){let{size:n=null,outline:t=!1,variant:l="primary",block:i=!1,disabled:s=!1,className:c,style:u,link:d,label:h}=e;const f=n?{sm:"sm",small:"sm",lg:"lg",large:"lg",medium:null}[n]:"",p=f?`button--${f}`:"",m=t?"button--outline":"",g=l?`button--${l}`:"",b=i?"button--block":"",x=s?"disabled":"",j=s?null:d;return(0,a.jsx)(r.A,{to:j,children:(0,a.jsx)("button",{className:(0,o.A)("button",p,m,g,b,x,c),style:u,role:"button","aria-disabled":s,children:h})})}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>i});var o=t(6540);const r={},a=o.createContext(r);function l(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);