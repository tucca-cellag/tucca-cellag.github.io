"use strict";(self.webpackChunktucca_cellag=self.webpackChunktucca_cellag||[]).push([[330],{5186:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>u,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"tucca-rna-seq/getting-started/installation/fresh-project-install","title":"Setting Up a Fresh Project","description":"\ud83d\udea7 Coming Soon! \ud83d\udea7","source":"@site/docs/tucca-rna-seq/getting-started/installation/fresh-project-install.mdx","sourceDirName":"tucca-rna-seq/getting-started/installation","slug":"/tucca-rna-seq/getting-started/installation/fresh-project-install","permalink":"/tucca-rna-seq/getting-started/installation/fresh-project-install","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Setting Up a Fresh Project"},"sidebar":"tuccarnaseq","previous":{"title":"Workflow Installation for New Users","permalink":"/tucca-rna-seq/getting-started/installation/new-user-install"},"next":{"title":"The `config` directory","permalink":"/category/the-config-directory"}}');var o=t(4848),a=t(8453),s=t(1470),i=t(9365),l=t(9964);const c={title:"Setting Up a Fresh Project"},u=void 0,d={},h=[{value:"1. Login to the Tufts HPC",id:"1-login-to-the-tufts-hpc",level:2},{value:"2. Get off of a login node",id:"2-get-off-of-a-login-node",level:2},{value:"3. Clone the repository",id:"3-clone-the-repository",level:3},{value:"4. Dependencies installation",id:"4-dependencies-installation",level:3}];function f(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.admonition,{type:"warning",children:[(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"\ud83d\udea7 Coming Soon! \ud83d\udea7"})}),(0,o.jsx)(n.p,{children:"Our website is currently under construction and will be launching soon.\nStay tuned!"}),(0,o.jsxs)(n.p,{children:["In the meantime, feel free to ",(0,o.jsx)(n.a,{href:"mailto:benjamin.bromberg@tufts.edu",children:"contact us"}),"\nwith any questions."]}),(0,o.jsx)(n.p,{children:"Thank you for your patience"})]}),"\n",(0,o.jsxs)(s.A,{children:[(0,o.jsxs)(i.A,{value:"tufts-hpc",label:"Tufts HPC Users",default:!0,children:[(0,o.jsx)(n.h2,{id:"1-login-to-the-tufts-hpc",children:"1. Login to the Tufts HPC"}),(0,o.jsx)(n.p,{children:"You can SSH into the Tufts HPC through the command line or you can access\nthe cluster through Tufts' OnDemand service. You will need a Tufts Cluster\nAccount to be able to log in to the Tufts HPC."}),(0,o.jsxs)(n.admonition,{type:"info",children:[(0,o.jsx)(n.p,{children:"If you are not familiar with accessing the Tufts HPC check out these\nfantastic resources to learn more:"}),(0,o.jsxs)(s.A,{children:[(0,o.jsxs)(i.A,{value:"hpc-mainpage",label:"Tufts HPC Home Page",children:[(0,o.jsx)("p",{children:"Home page for the Tufts HPC with helpful cheat sheets for the\ncluster at the bottom of the page"}),(0,o.jsx)("p",{}),(0,o.jsx)(l.A,{url:"https://it.tufts.edu/high-performance-computing",text:"Tufts HPC Home Page"})]}),(0,o.jsxs)(i.A,{value:"hpc-welcomepage",label:"Tufts HPC's Welcome Page",children:[(0,o.jsx)("p",{children:"Contains links to many introductory resources for the Tufts HPC"}),(0,o.jsx)("p",{}),(0,o.jsx)(l.A,{url:"https://it.tufts.edu/high-performance-computing/hpc-welcome-page",text:"Tufts HPC's Welcome Page"})]}),(0,o.jsxs)(i.A,{value:"hpc-newuser",label:"Tufts HPC's New User Support",default:!0,children:[(0,o.jsx)("p",{children:"Box folder with many helpful introductory PDFs and slideshows that\noutline the ins-and-outs of the Tufts HPC."}),(0,o.jsxs)("p",{children:["The most recent version of the ",(0,o.jsx)(n.code,{children:"Intro to Tufts HPC"})," workshop and\n",(0,o.jsx)(n.code,{children:"New User Guide PAX.pdf"})," are highly recommend."]}),(0,o.jsx)("p",{}),(0,o.jsx)(l.A,{url:"https://tufts.app.box.com/v/HPC-New-User/folder/46988375653",text:"Tufts HPC's New User Support"})]})]})]}),(0,o.jsx)(n.admonition,{type:"warning",children:(0,o.jsx)(n.p,{children:"The process of requesting and being approved for a Tufts HPC account can\ntake multiple business days."})}),(0,o.jsx)(n.h2,{id:"2-get-off-of-a-login-node",children:"2. Get off of a login node"}),(0,o.jsx)(n.p,{children:"Once logged into the Tufts HPC run the following to get off a login node and\nonto a compute node so that you can start performing computations."}),(0,o.jsxs)(n.p,{children:["After login you are on a Login Node of the cluster (",(0,o.jsx)(n.code,{children:"login-prod-0x"}),") and in\nyour Home Directory (",(0,o.jsx)(n.code,{children:"~"})," or ",(0,o.jsx)(n.code,{children:"/cluster/home/your_utln"}),"). Your terminal\nshould look like this:"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ [your_utln@login-prod-02 ~]\n"})}),(0,o.jsx)(n.p,{children:"To get off a login node run:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"srun -p interactive --pty bash\n"})}),(0,o.jsxs)(n.p,{children:["This will allocate a compute node with bash shell, 1 CPU core (default),\n4 hours (interactive partition default and maxmimum value), and 2GB of CPU\nmemory (default). If desired, modify with number of CPU cores ",(0,o.jsx)(n.code,{children:"-n"})," , memory\n",(0,o.jsx)(n.code,{children:"--mem="})," , an alternative partition ",(0,o.jsx)(n.code,{children:"-p"})," , and/or runtime ",(0,o.jsx)(n.code,{children:"--time="})," ."]}),(0,o.jsx)(n.p,{children:"Depending on the current usage of the Tufts HPC, you may need to wait in a\nqueue to be allocated enough resources. This could take some time depending\non the current usage of the cluster."}),(0,o.jsx)(n.h3,{id:"3-clone-the-repository",children:"3. Clone the repository"}),(0,o.jsx)(n.p,{children:"Go to the desired directory (aka folder) on your file system on the Tufts\nHPC. Then clone (aka copy) the repository and move into the respective\ndirectory with:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/benjibromberg/tucca-rna-seq.git\n"})}),(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["For Kaplan Lab users, it is recommended to clone the repository into your\npersonal directory in the ",(0,o.jsx)(n.code,{children:"kaplanlab"})," workspace. After cloning the repo,\nyou can change the name of the cloned directory to suit your project. Refer\nto the Tufts HPC resources linked above if this does not make sense."]})}),(0,o.jsx)(n.h3,{id:"4-dependencies-installation",children:"4. Dependencies installation"}),(0,o.jsxs)(n.p,{children:["For improved reproducibility and reusability of the workflow,\neach individual step of the workflow runs either in its own ",(0,o.jsx)(n.a,{href:"https://docs.conda.io/projects/conda/en/latest/index.html",children:"Conda"}),"\nvirtual environment. As a consequence, running this workflow has very few\nindividual dependencies."]}),(0,o.jsxs)(n.p,{children:["You will need to add the ",(0,o.jsx)(n.code,{children:"bioconda"})," channel to your ",(0,o.jsx)(n.code,{children:"base"})," conda environment\nwhich loads everytime you load a conda manager like ",(0,o.jsx)(n.a,{href:"https://github.com/conda-forge/miniforge",children:"miniforge"}),".\nIf this is problematic for some reason, you will need to load another conda\nenvironment that includes the ",(0,o.jsx)(n.code,{children:"conda-forge"}),", ",(0,o.jsx)(n.code,{children:"bioconda"}),", and ",(0,o.jsx)(n.code,{children:"default"})," channels\nbefore loading the ",(0,o.jsx)(n.code,{children:"snakemake"})," conda environment which will require manually\nmodifying the ",(0,o.jsx)(n.code,{children:"run.sh"})," runner script."]}),(0,o.jsxs)(n.p,{children:["To add the ",(0,o.jsx)(n.code,{children:"bioconda"})," channel to your ",(0,o.jsx)(n.code,{children:"base"})," conda environment run:"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"module load miniforge/24.7.1-py312\nconda activate base\nconda config --add channels bioconda\nconda config --add channels conda-forge\nconda config --set channel_priority strict\nconda config --show channels\n"})}),(0,o.jsx)(n.p,{children:"The result of the final command should match the following:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"channels:\n  - conda-forge\n  - bioconda\n  - defaults\n"})}),(0,o.jsxs)(n.p,{children:["Then run the following to create the ",(0,o.jsx)(n.code,{children:"snakemake"})," conda environment:"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"conda env create -f tucca-rna-seq/install/snakemake.yaml\n"})})]}),(0,o.jsxs)(i.A,{value:"external",label:"External Users",children:[(0,o.jsx)(n.p,{children:"TODO"}),(0,o.jsx)(n.p,{children:"Hello world"})]})]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(f,{...e})}):f(e)}},9365:(e,n,t)=>{t.d(n,{A:()=>s});t(6540);var r=t(4164);const o={tabItem:"tabItem_Ymn6"};var a=t(4848);function s(e){let{children:n,hidden:t,className:s}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.A)(o.tabItem,s),hidden:t,children:n})}},1470:(e,n,t)=>{t.d(n,{A:()=>w});var r=t(6540),o=t(4164),a=t(3104),s=t(6347),i=t(205),l=t(7485),c=t(1682),u=t(679);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:o}}=e;return{value:n,label:t,attributes:r,default:o}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function f(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:t}=e;const o=(0,s.W6)(),a=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(a),(0,r.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(o.location.search);n.set(a,e),o.replace({...o.location,search:n.toString()})}),[a,o])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:o}=e,a=h(e),[s,l]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!f({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:a}))),[c,d]=p({queryString:t,groupId:o}),[m,g]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,a]=(0,u.Dv)(t);return[o,(0,r.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:o}),x=(()=>{const e=c??m;return f({value:e,tabValues:a})?e:null})();(0,i.A)((()=>{x&&l(x)}),[x]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!f({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),g(e)}),[d,g,a]),tabValues:a}}var g=t(2303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(4848);function j(e){let{className:n,block:t,selectedValue:r,selectValue:s,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.a_)(),u=e=>{const n=e.currentTarget,t=l.indexOf(n),o=i[t].value;o!==r&&(c(n),s(o))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:a}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>l.push(e),onKeyDown:d,onClick:u,...a,className:(0,o.A)("tabs__item",x.tabItem,a?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function v(e){let{lazy:n,children:t,selectedValue:a}=e;const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function y(e){const n=m(e);return(0,b.jsxs)("div",{className:(0,o.A)("tabs-container",x.tabList),children:[(0,b.jsx)(j,{...n,...e}),(0,b.jsx)(v,{...n,...e})]})}function w(e){const n=(0,g.A)();return(0,b.jsx)(y,{...e,children:d(e.children)},String(n))}},9964:(e,n,t)=>{t.d(n,{A:()=>c});t(6540);var r=t(156),o=t(7869),a=t(5556),s=t.n(a),i=t(4848);const l=e=>{let{url:n,text:t}=e;return(0,i.jsx)(r.A,{variant:"contained",size:"large",endIcon:(0,i.jsx)(o.A,{}),onClick:()=>{window.open(n,"_blank","noopener,noreferrer")},sx:{margin:1},"aria-label":t,children:t})};l.propTypes={url:s().string.isRequired,text:s().string.isRequired};const c=l}}]);